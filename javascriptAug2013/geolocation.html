<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Geolocation</title>
<script src="https://maps.googleapis.com/maps/api/js?sensor=true"></script>
<script>
var map;
if(navigator.geolocation){
	//navigator.geolocation.enableHighAccuracy();
	navigator.
	geolocation.getCurrentPosition(processGeoData,onerror,{enableHighAccuracy:true});	
}

function processGeoData(position){
	//console.log(position);
	var mapOptions = {
		zoom:6,
		mapTypeId:google.maps.MapTypeId.ROADMAP	
	};
	map = new google.maps.Map(document.getElementById('map-div'),mapOptions);
	var pos = new google.maps.LatLng(position.coords.latitude,position.coords.longitude);
	var infoWindow = new google.maps.InfoWindow({
		map : map,
		position : pos,
		content : 'Location found via HTML5'	
	});
	map.setCenter(pos);
	
}

function onerror(){
	alert('problemo')
}

</script>
</head>

<body>

<div id="map-div" style="width:400px;height:400px;border:1px solid #ccc;"></div>

</body>
</html>
