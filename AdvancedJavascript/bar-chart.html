<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Bar Chart Using Chart.js</title>
    <script src="js/Chart.js-master/Chart.js"></script>
    <meta name="viewport" content="initial-scale=1.0">
</head>

<body>

    <button type="button" id="showChartBtn1">Display Data</button>
    <button type="button" id="showChartBtn2">Display Data</button>

    <canvas id="canvas" height="450" width="600"></canvas>


    <script>
        var myLine;
        var fetchedDatasets = [];
        var barChartData;
        var json1 = {
            "datasets": [{
                "points": [100, 59, 90, 81, 56, 55, 40],
                "fill": "rgba(220,220,220,0.5)",
                "stroke": "rgba(220,220,220,1)"
            }, {
                "points": [28, 48, 40, 19, 96, 27, 100],
                "fill": "rgba(151,187,205,0.5)",
                "stroke": "rgba(151,187,205,1)"
            }]
        };

        var json2 = {
            "datasets": [{
                "points": [100, 59, 90, 81, 56, 55, 40],
                "fill": "rgba(0,0,0,0.5)",
                "stroke": "rgba(255,0,0,1)"
            }, {
                "points": [28, 48, 40, 19, 96, 27, 100],
                "fill": "rgba(151,187,205,0.5)",
                "stroke": "rgba(151,187,205,1)"
            }]
        };

        function remapData(dataObj) {
            var numDatasets = dataObj.datasets.length;
            fetchedDatasets = [];
            for (var i = 0; i < numDatasets; i++) {
                fetchedDatasets.push({
                    fillColor: dataObj.datasets[i].fill,
                    strokeColor: dataObj.datasets[i].stroke,
                    data: dataObj.datasets[i].points
                });
            }
            barChartData = {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'July'],
                datasets: fetchedDatasets
            }

            var canvas = document.getElementById('canvas');
            canvas.width = canvas.width;
            myLine = new Chart(canvas.getContext('2d')).Bar(barChartData);

        }








        document.getElementById('showChartBtn1').addEventListener('click', function() {
            remapData(json1);
        });


        document.getElementById('showChartBtn2').addEventListener('click', function() {
            remapData(json2);
        });

    </script>



</body>

</html>
